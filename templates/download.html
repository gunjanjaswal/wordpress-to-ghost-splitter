{% extends 'base.html' %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-8">
        <div class="card">
            <div class="card-header">
                <h2 class="card-title text-center">Download Split XML Files</h2>
            </div>
            <div class="card-body">
                <div class="text-center mb-4">
                    <div class="icon-large">
                        <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" fill="currentColor" class="bi bi-cloud-download" viewBox="0 0 16 16">
                            <path d="M4.406 1.342A5.53 5.53 0 0 1 8 0c2.69 0 4.923 2 5.166 4.579C14.758 4.804 16 6.137 16 7.773 16 9.569 14.502 11 12.687 11H10a.5.5 0 0 1 0-1h2.688C13.979 10 15 8.988 15 7.773c0-1.216-1.02-2.228-2.313-2.228h-.5v-.5C12.188 2.825 10.328 1 8 1a4.53 4.53 0 0 0-2.941 1.1c-.757.652-1.153 1.438-1.153 2.055v.448l-.445.049C2.064 4.805 1 5.952 1 7.318 1 8.785 2.23 10 3.781 10H6a.5.5 0 0 1 0 1H3.781C1.708 11 0 9.366 0 7.318c0-1.763 1.266-3.223 2.942-3.593.143-.863.698-1.723 1.464-2.383z"/>
                            <path d="M7.646 15.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 14.293V5.5a.5.5 0 0 0-1 0v8.793l-2.146-2.147a.5.5 0 0 0-.708.708l3 3z"/>
                        </svg>
                    </div>
                    <p class="lead">Your WordPress XML file has been split successfully!</p>
                </div>
                
                <div class="mb-4 text-center">
                    <p>Created <strong>{{ num_chunks }}</strong> XML files with <strong>{{ chunk_size }}</strong> items per file.</p>
                    <a href="{{ url_for('download_file') }}" class="btn btn-success btn-lg">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-download me-2" viewBox="0 0 16 16">
                            <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
                            <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"/>
                        </svg>
                        Download ZIP File
                    </a>
                </div>
                
                <div class="alert alert-info mb-4">
                    <h5>Next Steps: Importing to Ghost</h5>
                    <ol>
                        <li>Download and extract the ZIP file</li>
                        <li>Log in to your Ghost admin dashboard</li>
                        <li>Go to <strong>Settings</strong> &gt; <strong>Labs</strong></li>
                        <li>Under <strong>Import content</strong>, click <strong>Select File</strong></li>
                        <li>Upload the first XML chunk file</li>
                        <li>Wait for the import to complete</li>
                        <li>Repeat steps 4-6 for each XML chunk file</li>
                    </ol>
                </div>
                
                <div class="alert alert-warning mb-4">
                    <h5>Important Notes</h5>
                    <ul>
                        <li>Import the chunks in sequential order for best results</li>
                        <li>Ghost will skip any duplicate posts during import</li>
                        <li>Images referenced in your posts will need to be uploaded separately or imported via the Ghost API</li>
                        <li>You may need to adjust permalinks and other settings after import</li>
                    </ul>
                </div>
                
                <div class="text-center">
                    <a href="{{ url_for('index') }}" class="btn btn-outline-primary">Process Another File</a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
